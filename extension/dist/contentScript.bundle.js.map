{"version":3,"file":"contentScript.bundle.js","mappings":"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","sources":["webpack:///./functions/button.js","webpack:///./functions/jobs.js","webpack:///./functions/selectors.js","webpack:///./functions/toast.js","webpack:///./functions/utils.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./contentScript.js"],"sourcesContent":["import { showToast } from \"./toast.js\";\r\n\r\nexport function addButton(selectors, jobDetails) {\r\n  console.log(\"Adding button...\");\r\n  const existingButton = document.querySelector(\"#\" + selectors.buttonId);\r\n  if (existingButton) {\r\n    existingButton.remove();\r\n  }\r\n\r\n  const buttonContainer = document.createElement(\"div\");\r\n  buttonContainer.id = selectors.buttonId;\r\n  buttonContainer.className = selectors.buttonContainerClass;\r\n\r\n  const button = document.createElement(\"button\");\r\n  button.className = selectors.buttonClass;\r\n\r\n  const svgContainer = document.createElement(\"div\");\r\n  svgContainer.className = \"svg-container\";\r\n  if (selectors.buttonId === \"waterloo-button\") {\r\n    svgContainer.innerHTML = \"+\";\r\n  } else {\r\n    svgContainer.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-plus\"><path d=\"M5 12h14\"/><path d=\"M12 5v14\"/></svg>`;\r\n  }\r\n  button.appendChild(svgContainer);\r\n  buttonContainer.appendChild(button);\r\n\r\n  const targetElement = document.querySelector(selectors.targetDiv);\r\n  if (targetElement) {\r\n    if (selectors.buttonId === \"simplify-button\") {\r\n      targetElement.insertBefore(buttonContainer, targetElement.children[1]);\r\n    } else if (selectors.buttonId === \"waterloo-button\") {\r\n      targetElement.parentElement.style.display = \"flex\";\r\n      targetElement.parentElement.style.alignItems = \"center\";\r\n      targetElement.parentElement.style.gap = \"15px\";\r\n      targetElement.parentElement.appendChild(buttonContainer);\r\n    } else {\r\n      targetElement.insertBefore(buttonContainer, targetElement.firstChild);\r\n    }\r\n  } else {\r\n    console.error(\"Target element not found. Button not added.\");\r\n  }\r\n\r\n  button.addEventListener(\"click\", () => {\r\n    replaceWithSpinner(selectors.buttonId, buttonContainer); // Replace button with spinner\r\n    handleClick(selectors.buttonId, jobDetails);\r\n  });\r\n}\r\n\r\nfunction replaceWithSpinner(buttonId, buttonContainer) {\r\n  const button = document.querySelector(\"#\" + buttonId + \" button\");\r\n  if (button) {\r\n    button.style.display = \"none\"; // Hide the button\r\n  }\r\n\r\n  if (buttonId === \"waterloo-button\") {\r\n    let loading = document.querySelector(\".simple-spinner\");\r\n    if (!loading) {\r\n      loading = document.createElement(\"div\");\r\n      loading.className = \"simple-spinner\";\r\n      loading.id = buttonId;\r\n      loading.style.width = \"24px\"; // Set fixed width\r\n      loading.style.height = \"24px\"; // Set fixed height\r\n      buttonContainer.appendChild(loading);\r\n    }\r\n  } else {\r\n    let loading = document.querySelector(\".spinner\");\r\n    if (!loading) {\r\n      loading = document.createElement(\"div\");\r\n      loading.className = \"spinner\";\r\n      loading.id = buttonId;\r\n      loading.innerHTML = `\r\n        <svg viewBox=\"0 0 50 50\">\r\n          <circle class=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n        </svg>`;\r\n      buttonContainer.appendChild(loading); // Add spinner in place of the button\r\n    }\r\n  }\r\n}\r\n\r\nfunction restoreButton(buttonId) {\r\n  const button = document.querySelector(\"#\" + buttonId + \" button\");\r\n\r\n  if (buttonId === \"waterloo-button\") {\r\n    var loading = document.querySelector(\".simple-spinner\");\r\n  } else {\r\n    var loading = document.querySelector(\"#\" + buttonId + \".spinner\");\r\n  }\r\n  if (loading) {\r\n    loading.remove(); // Remove loading animation\r\n  }\r\n\r\n  if (button) {\r\n    button.style.display = \"flex\"; // Show the button again\r\n  }\r\n}\r\n\r\nfunction handleClick(buttonId, jobDetails) {\r\n  const button = document.querySelector(\"#\" + buttonId + \" button\");\r\n  if (!button) return; // Safety check to ensure the button exists\r\n\r\n  // Disable the button to prevent multiple clicks\r\n  button.disabled = true;\r\n\r\n  // Show loading spinner while fetching\r\n  replaceWithSpinner(buttonId, button.parentElement);\r\n\r\n  fetch(\"http://localhost:5000/generate\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(jobDetails),\r\n  })\r\n    .then((response) => {\r\n      // Check if the response status indicates an error\r\n      if (!response.ok) {\r\n        return response.json().then((data) => {\r\n          // Throw an error to be caught in the catch block\r\n          throw new Error(data.error || \"An unknown error occurred\");\r\n        });\r\n      }\r\n      return response.json(); // Parse the JSON if the response is okay\r\n    })\r\n    .then((data) => {\r\n      showToast(jobDetails, data.message); // Display success toast\r\n    })\r\n    .catch((error) => {\r\n      showToast(jobDetails, error.message, true); // Display error toast with message\r\n    })\r\n    .finally(() => {\r\n      // Re-enable the button after the request is complete\r\n      button.disabled = false;\r\n      restoreButton(buttonId); // Bring back the button\r\n    });\r\n}\r\n","export function extractJobInfo(selectors) {\r\n  console.log(\"Extracting job information...\");\r\n  let position = document.querySelector(selectors.position)?.innerText;\r\n  position = position?.replace(/\\s*\\(.*?\\)\\s*/g, \"\").trim();\r\n\r\n  let company = document.querySelector(selectors.company)?.innerText;\r\n  let description = document.querySelector(selectors.description)?.innerText;\r\n\r\n  const currentURL = window.location.href;\r\n  if (currentURL.includes(\"simplify.jobs/p/\")) {\r\n    const keywordMatchIndex = description.indexOf(\"Keyword Match\");\r\n    if (keywordMatchIndex !== -1) {\r\n      description = description.slice(0, keywordMatchIndex).trim();\r\n    }\r\n  } else if (currentURL.includes(\"waterlooworks.uwaterloo.ca/myAccount/co-op/full/jobs\")) {\r\n    console.log(\"WaterlooWorks job info extraction\");\r\n    const positionDashIndex = position.indexOf(\"-\");\r\n    if (positionDashIndex !== -1) {\r\n      position = position.slice(positionDashIndex + 1).trim();\r\n      console.log(\"Position:\", position);\r\n    }\r\n    const companyDashIndex = company.indexOf(\"-\");\r\n    if (companyDashIndex !== -1) {\r\n      company = company.slice(0, companyDashIndex).trim();\r\n      console.log(\"Company:\", company);\r\n    }\r\n    const elements = document.querySelectorAll(selectors.description);\r\n    description = Array.from(elements).map(element => element.innerText);\r\n  }\r\n\r\n  if (position && company && description) {\r\n    const jobInfo = { position, company, description };\r\n    console.log(\"Job info extracted:\", jobInfo);\r\n    sendJobInfoToPopup(jobInfo); // Send the job info to the popup\r\n    return jobInfo;\r\n  } else {\r\n    console.log(\"Position found:\", !!position);\r\n    console.log(\"Company found:\", !!company);\r\n    console.log(\"Description found:\", !!description);\r\n    console.error(\"Job info extraction failed\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function sendJobInfoToPopup(job_info) {\r\n  console.log(\"Sending job info to popup:\", job_info);\r\n  chrome.runtime.sendMessage(\r\n    {\r\n      type: \"job_info\",\r\n      jobDetails: {\r\n        position: job_info.position,\r\n        company: job_info.company,\r\n        description: job_info.description,\r\n      },\r\n    },\r\n    (response) => {\r\n      if (chrome.runtime.lastError) {\r\n        console.error(\"Error sending message:\", chrome.runtime.lastError);\r\n      } else {\r\n        console.log(\"Message sent successfully:\", response);\r\n      }\r\n    }\r\n  );\r\n\r\n  // Store job info in local storage to retrieve later if popup is not open\r\n  chrome.storage.sync.set({ job_info: job_info }, () => {\r\n    console.log(job_info);\r\n    if (chrome.runtime.lastError) {\r\n      console.log(\"Error storing job info:\", chrome.runtime.lastError);\r\n    } else {\r\n      console.log(\"Job info stored successfully\");\r\n    }\r\n  });\r\n\r\n  console.log(\"Job info sent to popup\");\r\n}","export const websiteSelectors = {\r\n  linkedin: {\r\n    urlPattern: \"linkedin.com/jobs\",\r\n    information: {\r\n      position:\r\n        \"div.job-details-jobs-unified-top-card__job-title h1.t-24.t-bold.inline\",\r\n      company: \".job-details-jobs-unified-top-card__company-name\",\r\n      description: \"#job-details > div\",\r\n    },\r\n    targetDiv: \"div.job-details-jobs-unified-top-card__top-buttons\",\r\n    buttonId: \"linkedin-button\",\r\n    buttonClass:\r\n      \"social-share__dropdown-trigger artdeco-button artdeco-button--3 artdeco-button--tertiary artdeco-button--circle artdeco-button--muted artdeco-dropdown__trigger artdeco-dropdown__trigger--placement-bottom ember-view\",\r\n    buttonContainerClass:\r\n      \"artdeco-dropdown artdeco-dropdown--placement-bottom artdeco-dropdown--justification-right ember-view\",\r\n  },\r\n  simplify: {\r\n    urlPattern: \"simplify.jobs/p/\",\r\n    information: {\r\n      position: \"h1.text-left.text-xl.font-bold.text-secondary-400\",\r\n      company: \"p.text-left.text-lg.font-bold.text-secondary-400\",\r\n      description: \"div.mt-4:nth-of-type(2)\",\r\n    },\r\n    targetDiv: \"div.mt-2.flex.justify-end.gap-x-4.text-sm.text-gray-500\",\r\n    buttonId: \"simplify-button\",\r\n    buttonClass: \"\",\r\n    buttonContainerClass: \"\",\r\n  },\r\n  waterlooWorks: {\r\n    urlPattern: \"waterlooworks.uwaterloo.ca/myAccount/co-op/full/jobs\",\r\n    information: {\r\n      position: \".dashboard-header__profile-information h1\",\r\n      company: \".dashboard-header__profile-information h2\",\r\n      description: \".np-view-question--31, .np-view-question--32, .np-view-question--33\",\r\n    },\r\n    targetDiv: \".clickGuard.applyButton\",\r\n    buttonId: \"waterloo-button\",\r\n    buttonClass: \"\",\r\n    buttonContainerClass: \"\",\r\n  },\r\n  indeed: {\r\n    urlPattern: \"indeed.com\",\r\n    information: {\r\n      position: \".jobsearch-JobInfoHeader-title\",\r\n      company: \".jobsearch-InlineCompanyRating\",\r\n      description: \".jobsearch-JobMetadataHeader-item\",\r\n    },\r\n    targetDiv: \".jobsearch-JobInfoHeader\",\r\n    buttonId: \"indeed-button\",\r\n    buttonClass: \"plus-button-indeed\",\r\n    buttonContainerClass: \"plus-button-linkedin-container\",\r\n  },\r\n};\r\n\r\nexport function getSelectors() {\r\n  const currentURL = window.location.href;\r\n\r\n  for (let site in websiteSelectors) {\r\n    if (currentURL.includes(websiteSelectors[site].urlPattern)) {\r\n      return websiteSelectors[site];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n","export function showToast(jobDetails, message, isError = false) {\r\n  // Create a container for the toast\r\n  const toastContainer = document.createElement(\"div\");\r\n  toastContainer.className = \"toast-container\";\r\n\r\n  // Add an error class if it's an error\r\n  if (isError) {\r\n    toastContainer.classList.add(\"toast-error\");\r\n  } else {\r\n    toastContainer.classList.add(\"toast-success\");\r\n  }\r\n\r\n  // Create the content of the toast\r\n  const toastContent = `\r\n    <div class=\"toast\">\r\n      <div class=\"toast-header\">\r\n        <div class=\"toast-position\" title=\"${jobDetails.position}\">\r\n          ${jobDetails.position}\r\n        </div>\r\n        <div class=\"toast-company\" title=\"${jobDetails.company}\">\r\n          ${jobDetails.company}\r\n        </div>\r\n      </div>\r\n      <div class=\"toast-body\">\r\n        ${message}\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Set the inner HTML of the container\r\n  toastContainer.innerHTML = toastContent;\r\n\r\n  // Append the toast to the body\r\n  document.body.appendChild(toastContainer);\r\n\r\n  // Trigger smooth entry after a short delay\r\n  setTimeout(() => {\r\n    toastContainer.classList.add(\"toast-show\");\r\n  }, 100);\r\n\r\n  // Auto remove the toast after 5 seconds\r\n  setTimeout(() => {\r\n    toastContainer.classList.remove(\"toast-show\"); // Start exit animation\r\n\r\n    // After the animation duration, remove the toast from the DOM\r\n    setTimeout(() => {\r\n      toastContainer.remove();\r\n    }, 700); // Match this to the exit transition time in CSS (0.4s)\r\n  }, 5000); // Display for 5 seconds\r\n}","import { extractJobInfo } from \"./jobs.js\";\r\n\r\nexport function waitForElements(\r\n  selectors,\r\n  callback,\r\n  retryInterval = 500,\r\n  maxRetries = 10\r\n) {\r\n  let retries = 0;\r\n  const interval = setInterval(() => {\r\n    const jobInfo = extractJobInfo(selectors.information);\r\n    const targetElement = document.querySelector(selectors.targetDiv);\r\n\r\n    console.log(\"Try \", retries);\r\n    if (jobInfo && targetElement) {\r\n      clearInterval(interval);\r\n      console.log(\"Job info extracted:\", jobInfo);\r\n      callback(jobInfo);\r\n    } else if (retries >= maxRetries) {\r\n      clearInterval(interval);\r\n      console.error(\"Max retries reached. Job extraction failed\");\r\n    }\r\n\r\n    retries++;\r\n  }, retryInterval);\r\n}\r\n\r\nexport function detectURLChange() {\r\n  let currentURL = window.location.href;\r\n  const observer = new MutationObserver(() => {\r\n    if (currentURL !== window.location.href) {\r\n      currentURL = window.location.href;\r\n      setTimeout(() => startJobExtraction(), 1000);\r\n    }\r\n  });\r\n  observer.observe(document.body, { childList: true, subtree: true });\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { getSelectors } from \"./functions/selectors.js\";\r\nimport { waitForElements, detectURLChange } from \"./functions/utils.js\";\r\nimport { addButton } from \"./functions/button.js\";\r\n\r\nfunction startJobExtraction() {\r\n  const selectors = getSelectors();\r\n  if (selectors) {\r\n    console.log(\"Selectors found. Starting job extraction...\");\r\n    waitForElements(selectors, (jobInfo) => addButton(selectors, jobInfo));\r\n  } else {\r\n    console.error(\"Selectors not found. Job extraction failed.\");\r\n  }\r\n}\r\n\r\nstartJobExtraction();\r\ndetectURLChange();\r\n"],"names":["showToast","addButton","selectors","jobDetails","console","log","existingButton","document","querySelector","buttonId","remove","buttonContainer","createElement","id","className","buttonContainerClass","button","buttonClass","svgContainer","innerHTML","appendChild","targetElement","targetDiv","insertBefore","children","parentElement","style","display","alignItems","gap","firstChild","error","addEventListener","replaceWithSpinner","handleClick","loading","width","height","restoreButton","disabled","fetch","method","headers","body","JSON","stringify","then","response","ok","json","data","Error","message","extractJobInfo","_document$querySelect","_position","_document$querySelect2","_document$querySelect3","position","innerText","replace","trim","company","description","currentURL","window","location","href","includes","keywordMatchIndex","indexOf","slice","positionDashIndex","companyDashIndex","elements","querySelectorAll","Array","from","map","element","jobInfo","sendJobInfoToPopup","job_info","chrome","runtime","sendMessage","type","lastError","storage","sync","set","websiteSelectors","linkedin","urlPattern","information","simplify","waterlooWorks","indeed","getSelectors","site","isError","arguments","length","undefined","toastContainer","classList","add","toastContent","concat","setTimeout","waitForElements","callback","retryInterval","maxRetries","retries","interval","setInterval","clearInterval","detectURLChange","observer","MutationObserver","startJobExtraction","observe","childList","subtree"],"sourceRoot":""}